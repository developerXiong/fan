<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script type="text/javascript" src="js/jquery-1.8.1.min.js"></script>
    <title>登录</title>
    <script>
        function dologin()
		{
			var loginData = {"username":"admin","password":"123456"};
			var jsonData = JSON.stringify(loginData);
			$.ajax({
				type:"POST",
				url:"http://192.168.0.134:8088/ajaxLogin",
				data:jsonData,
				dataType: "json",
				contentType:"application/json",
				success:function (res) {
					$("#token").val(res.data);
				}
			});
		}
		function getUser()
		{
			$.ajax({
				type:"GET",
				url:"http://192.168.0.134:8088/user/getUserById",
				dataType: "json",
				contentType:"application/json",
				beforeSend:function(request){
					request.setRequestHeader("Authorization", $("#token").val());
				},
				success:function (res) {
					$("#user").append(JSON.stringify(res));
				}
			});
		}
    </script>
</head>
<body>
<input type="text" id="token" value="" />
<br/>
<input type="button"  value="登录" onclick="dologin();"></input>
<br/>
<input type="button" value="获取用户" onclick="getUser();"></input>
<div id="user">
</div>
</body>
</html>
