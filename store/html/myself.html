<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" href="../css/myself.css">
    <script src="../js/jquery.min.js"></script>
    <script type="text/javascript">

        //点击获取验证码效果
        var countdown=60;
        function sendemail(){
            var obj = $("#btn");
            settime(obj);

        }
        function settime(obj) { //发送验证码倒计时
            if (countdown == 0) {
                obj.attr('disabled',false);
                //obj.removeattr("disabled");
                obj.val("免费获取验证码");
                countdown = 60;
                return;
            } else {
                obj.attr('disabled',true);
                obj.val("重新发送(" + countdown + ")");
                countdown--;
            }
            setTimeout(function() {
                    settime(obj) }
                ,1000)
        }
    </script>

</head>

<body>
<header>
    <div class="back" onclick="javascript:window.history.go(-1);">
        <img src="../img/close.png" alt="">
    </div>
    个人信息
</header>
<div class="cont">
    <ul class="handle_ul">
        <li class="handle_li">
            <span>昵称:</span>
            <input type="text" placeholder="请输入昵称">
        </li>
        <li class="handle_li">
            <span>性别:</span>
            <a>男</a><input type="radio" name="sex" value="man" checked>
            <a>女</a><input type="radio" name="sex" value="woman">
        </li>
        <li class="handle_li" style="position: relative">
            <span>头像:</span>
            <input type="file" onchange="preview(this)" id="file">
            <div id="preview"><img src="../img/icon.png" alt=""></div>
            <div class="cover" onclick="clickMe()"></div>
        </li>
        <li class="handle_li">
            <span>手机号:</span>
            <input type="text" placeholder="请输入手机号">
        </li>
        <li class="handle_li">
            <span>验证码:</span>
            <input type="text" placeholder="请输入验证码">
            <input id="btn" type="button" onclick="sendemail()" value="获取验证码">
        </li>
    </ul>
    <div class="confirm">确定</div>

    <!--<div id="preview"></div>-->
    <!--<input type="file" onchange="preview(this)" />-->
</div>







<script type="text/javascript">
    function clickMe() {
        $("#file").click()
    }


    //图片上传
    function preview(file) {
//        alert(1)
        var prevDiv = document.getElementById('preview');
        if (file.files && file.files[0]) {
            var reader = new FileReader();
            reader.onload = function(evt) {
                prevDiv.innerHTML = '<img src="' + evt.target.result + '" />';
            }
            reader.readAsDataURL(file.files[0]);
        } else {
            prevDiv.innerHTML = '<div class="img" style="filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src=\'' + file.value + '\'"></div>';
        }
        console.log(file.value)//图片信息
    }
</script>
</body>
</html>