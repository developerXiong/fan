<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<script src="js/mui.min.js"></script>
		<link href="css/mui.min.css" rel="stylesheet" />
		
	</head>

	<body>
		<!--下拉刷新容器-->
		<div id="refreshContainer" class="mui-content mui-scroll-wrapper">
			<div class="mui-scroll">
				<!--滚动区域-->
				<div id="slider" class="mui-slider" >
				  <div class="mui-slider-group mui-slider-loop">
				    <!-- 额外增加的一个节点(循环轮播：第一个节点是最后一张轮播) -->
				    <div class="mui-slider-item mui-slider-item-duplicate">
				      <a href="#">
				        <img src="img/6.jpg">
				      </a>
				    </div>
				    <!-- 第一张 -->
				    <div class="mui-slider-item">
				      <a href="#">
				        <img src="img/7.jpg">
				      </a>
				    </div>
				    <!-- 第二张 -->
				    <div class="mui-slider-item">
				      <a href="#">
				        <img src="img/8.jpg">
				      </a>
				    </div>
				    <!-- 第三张 -->
				    <div class="mui-slider-item">
				      <a href="#">
				        <img src="img/guide_1.png">
				      </a>
				    </div>

				    <!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
				    <div class="mui-slider-item mui-slider-item-duplicate">
				      <a href="#">
				        <img src="img/6.jpg">
				      </a>
				    </div>
				  </div>
				  <div class="mui-slider-indicator">
				    <div class="mui-indicator mui-active"></div>
				    <div class="mui-indicator"></div>
				    <div class="mui-indicator"></div>
<!--				    <div class="mui-indicator"></div>-->
				  </div>
				</div>
				
				<!--数据列表-->
				<ul class="mui-table-view">
				    <li class="mui-table-view-cell mui-media">
				        <a href="javascript:;">
				            <img class="mui-media-object mui-pull-left" src="img/ic_onlinerestaurant@2x.png">
				            <div class="mui-media-body">
				                幸福
				                <p class="mui-ellipsis">能和心爱的人一起睡觉，是件幸福的事情；可是，打呼噜怎么办？</p>
				            </div>
				        </a>
				    </li>
				    <li class="mui-table-view-cell mui-media">
				        <a href="javascript:;">
				            <img class="mui-media-object mui-pull-left" src="img/ic_broadcast@2x.png">
				            <div class="mui-media-body">
				                木屋
				                <p class="mui-ellipsis">想要这样一间小木屋，夏天挫冰吃瓜，冬天围炉取暖.</p>
				            </div>
				        </a>
				    </li>
				    <li class="mui-table-view-cell mui-media">
				        <a href="javascript:;">
				            <img class="mui-media-object mui-pull-left" src="img/ic_ETC@2x.png">
				            <div class="mui-media-body">
				                CBD
				                <p class="mui-ellipsis">烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>
				            </div>
				        </a>
				    </li>
				</ul>
			</div>
		</div>
		<script type="text/javascript">
			mui.init({
				//因为需要获取dom元素，所以挪到下面
				
				pullRefresh:{
					container:"#refreshContainer",
					//下拉刷新
					down:{
						contentdown:"下拉可以刷新",
						contentover:"释放立即刷新",
						contentrefresh:"正在刷新...",
						callback:pulldownRefresh
					},
					//上拉加载
					up:{
						//配置可以不写
						callback:pullupRefresh
					}
				}
			});
			
			function pulldownRefresh(){
				setTimeout(function(){
					//延时，可不加
					var table = document.querySelector(".mui-table-view");
					for(var i=0;i<3;i++){
						//假设已经获取到数据，创建li
						var li = document.createElement("li");
						li.className="mui-table-view-cell mui-media";
					
						var str = "";
						str+="<a href='javascript:;'>";
				    	str+="<img class='mui-media-object mui-pull-left' src='img/ic_ETC@2x.png'>";
				    	str+="<div class='mui-media-body'>";
				    	str+="CBD";
				    	str+="<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>";
				    	str+="</div>";
				    	str+="</a>";
				    
				    	li.innerHTML=str;
				    
				    	table.insertBefore(li,table.firstChild);//再table第一个孩子前追加
					}
					//数据加载完成后，结束下拉刷新
					mui("#refreshContainer").pullRefresh().endPulldownToRefresh();
				},1500)
			}
			
			
			function pullupRefresh(){
				setTimeout(function(){
					var table = document.querySelector(".mui-table-view");
					for(var i=0;i<3;i++){
						//假设已经获取到数据，创建li
						var li = document.createElement("li");
						li.className="mui-table-view-cell mui-media";
					
						var str = "";
						str+="<a href='javascript:;'>";
				    	str+="<img class='mui-media-object mui-pull-left' src='img/ic_ETC@2x.png'>";
				    	str+="<div class='mui-media-body'>";
				    	str+="CBD";
				    	str+="<p class='mui-ellipsis'>烤炉模式的城，到黄昏，如同打翻的调色盘一般.</p>";
				    	str+="</div>";
				    	str+="</a>";
				    
				    	li.innerHTML=str;
				    
				    	table.appendChild(li);//再table最后追加
					}
					//数据加载完成后，结束上拉加载
					mui("#refreshContainer").pullRefresh().endPullupToRefresh();
				},1500)
			}
		</script>
	</body>

</html>